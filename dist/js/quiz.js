!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";n.r(t);class i{static DataSetDecorator(e,t){let n=["text","textarea","password","username","email"];function i(e,t,n){e[t]?(Array.isArray(e[t])||(e[t]=$.makeArray(e[t])),e[t].push(n)):e[t]=n}t.forEach(t=>{let r=e.item[0].querySelectorAll(t);for(let s of r){let r={};"[data-info]"===t&&(r=s,i(e,s.dataset.info,r)),"[data-input]"===t&&(r={input:s,name:s.dataset.name},n.includes(s.type)&&(r.error=s.parentElement.querySelector("[data-error]")),i(e,s.dataset.input,r))}})}static EventListenerDecorator(e,t,n){e.item.on(t,t=>{let i=t.target;if(i.dataset.action||i.parentElement.dataset.action){let t=i.dataset.action||i.parentElement.dataset.action;n(t,e)}return t.preventDefault(),!1})}static EventDispatchDecorator(e){let t={};e.addEvent=((e,n)=>{t[e]||(t[e]=[]),-1===t[e].indexOf(n)&&t[e].push(n)}),e.removeEvent=((e,n)=>{let i=t[e];if(i){let e=i.indexOf(n);e>-1&&i.splice(e,1)}}),e.dispatchEvent=(e=>{let n=t[e.type];if(n){e.target||(e.target=this);for(let t in n)n[t](e)}})}}class r{constructor(e){this.items=e}action(e){let t=Array.prototype.slice.call(arguments);t.shift();for(let n of this.items)n[e].apply(n,t)}}class s{constructor(e){this.index=0,this.context=$(e),this.SIG=e}add(e){++this.index,e.addClass("stageViewItem"),this.context.append(e),componentHandler.upgradeElements(e.children()),e.fadeIn("slow")}remove(e){e.remove()}clear(){$(this.context).children(".stageViewItem").remove(),this.index=0}}class o{constructor(){this.types={}}create(e){return(new this.types[e]).get()}register(e,t){t.prototype.get&&(this.types[e]=t)}}let a=new class{constructor(){this._stage=null,this._vf=new o}register(e,t){this._vf.register(e,t)}setStage(e){this._stage=e}create(e){return this._vf.create(e)}add(e){this._stage.add(e.get())}remove(e){this._stage.remove(e.get())}removeAll(){this._stage.clear()}};class l{init(e,t,n){this.item=$(`<div style="display: none" class="mdl-cell mdl-cell--4-col mdl-cell--6-col-phone mdl-cell--5-col-tablet">\n        <div  class="shadow-container mdl-card mdl-shadow--2dp">\n            <div data-info="picture" style="background-image: url(img/category/${e.category}.jpg);">\n            <div class="mdl-card__title info-text">\n                <h2 data-info="name" class="mdl-card__title-text" style="font-size: 20px; font-weight: bold">${e.name}</h2>\n            </div>\n            <div class="mdl-card__supporting-text mdl-grid">\n                    <div class="mdl-cell mdl-cell--12-col"><a class="info-text"><strong>Ersteller: </strong> \n                    </a><a data-info="user" class="info-text">${e.user}</a></div>\n                    <div class="mdl-cell mdl-cell--12-col"><a class="info-text"><strong>Kategorie: </strong>\n                    </a><a data-info="category" class="info-text">${e.category}</a></div>\n                    <div class="mdl-cell mdl-cell--12-col"><a class="info-text"><strong>Anzahl Fragen: </strong> </a>\n                    <a data-info="questionCount" class="info-text">${e.questionCount}</a></div>\n            </div>\n           </div>\n            <div class="mdl-card__supporting-text">\n                <a class="quiz-description" data-info="description">${e.description}</a>\n            </div>\n            <div class="mdl-card__actions mdl-card--border">\n                <a data-action="${t?"delete":"play"}" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">\n                ${t?"Quiz l√∂schen":"Spielen"}\n                </a>\n            </div>\n        </div>\n        </div>`),this.quiz=e,i.EventListenerDecorator(this,"click",n)}get(){return this.item}}class c{init(e){this.question=e,this.item=$(`\n        <div style="position: relative; text-align:center; display:none" class="mdl-cell mdl-cell--12-col white-cell">\n            <h4 class="v-form-header">${e.questionText}</h4>\n            <div class="mdl-cell mdl-cell--12-col">\n                    <a ${e.answers[0].correct?'style="color: green"':'style="color: black"'}>${e.answers[0].text}</a>\n            </div>\n            <div class="mdl-cell mdl-cell--12-col">\n                    <a ${e.answers[1].correct?'style="color: green"':'style="color: black"'}>${e.answers[1].text}</a>\n            </div>\n            <div class="mdl-cell mdl-cell--12-col">\n                    <a ${e.answers[2].correct?'style="color: green"':'style="color: black"'}>${e.answers[2].text}</a>\n            </div>\n            <div class="mdl-cell mdl-cell--12-col">\n                    <a ${e.answers[3].correct?'style="color: green"':'style="color: black"'}>${e.answers[3].text}</a>\n            </div>   \n            <i data-action="deleteQuestion" style="position:absolute; top: 5%; right: 0; cursor:pointer;" class="material-icons">delete</i>\n        </div>`)}get(){return this.item}}class u{init(e){this.item=$(`\n        <span class="mdl-chip">\n             <span class="mdl-chip__text"><strong>${e.name}:</strong> ${e.input.value}</span>\n        </span>\n        `)}get(){return this.item}}class d{constructor(e){this.item=$(e),this.selected=!1}get(){this.item}}class h extends d{constructor(e){super(e),this.init()}init(){this.text=this.item.children("a"),this.blink=(e=>{this.selected&&e===this.id||!this.selected&&e===this.id?this.item.addClass("blink-green"):this.selected&&e!==this.id&&this.item.addClass("blink-red")}),this.item.on("click",e=>{this.selected=!this.selected,e.preventDefault()})}fadeOut(){this.item.fadeOut(250)}fadeIn(){this.item.fadeIn(250)}getSelected(){if(this.selected)return this.id}getValues(){return{id:this.id,correct:this.selected}}setNewAnswer(e){this.id=e.id,this.text[0].innerHTML=e.text,this.selected=!1,this.item.removeClass("blink-green"),this.item.removeClass("blink-red")}}class p extends d{constructor(e){super(e),this.init()}init(){this.input=this.item[0].querySelector("input"),this.error=this.input.parentElement.querySelector("[data-error]"),this.item.on("click",e=>{e.target!==this.input&&(this.selected=!this.selected,this.item.toggleClass("is-correct"))})}clear(){this.input.parentElement.MaterialTextfield.change(),this.item.removeClass("is-correct"),this.selected=!1}showError(e){this.error.innerHTML=e.message,this.error.parentElement.classList.add("is-invalid")}getValues(){return{text:this.input.value,correct:this.selected}}}class f{constructor(){this.item=new u}get(){return this.item}}class g{constructor(){this.item=new l}get(){return this.item}}class m{constructor(){this.item=new c}get(){return this.item}}class y{static validateText(e){let t=!0,n=!0;if(!Array.isArray(e))return t=v.bind(this,e)();for(let i=0;i<e.length;i++)(t=v.bind(this,e[i])())||(n=!1);return n}static validateSanitization(e){let t=new RegExp("[^A-Za-z0-9]");for(let n=0;n<e.length;n++){let i;if(!(i=e[n].input.value)||"password"===e[n].input.type)continue;if("email"===e[n].input.type)continue;let r=t.exec(i);if(!r)continue;e[n].error.innerHTML=`${r} is an invalid character.`,e[n].error.parentElement.classList.add("is-invalid")}return!0}}const v=e=>{let t=!0;return e.input.value||(t=!1,e.error.innerHTML="Field can not be empty",e.error.parentElement.classList.add("is-invalid")),t};new Map([["Easy","#quiz-overview-Easy"],["Medium","#quiz-overview-Medium"],["Hard","#quiz-overview-Hard"]]);class w{constructor(e,t){this.questionText=e,this.answers=t}}const b={quizCategorys:"../srv/quiz_management/quiz_categorys.php",createQuiz:"../srv/quiz_management/quiz_creation.php",fetchQuiz:"../srv/quiz_management/quiz_fetchQuiz.php",deleteQuiz:"../srv/quiz_management/quiz_deleteQuiz.php",playQuiz:"../srv/quiz_management/quiz_play.php",fetchQuestion:"../srv/quiz_management/quiz_fetchQuestion.php",fetchResults:"../srv/quiz_management/quiz_fetchResults.php"};class z{constructor(){this.questions=[],this.questionCount=0}addQuestion(e){this.questions.push(e),this.questionCount++}removeQuestion(e){for(let t=0;t<this.questions.length;t++)if(e==this.questions[t]){this.questions.splice(t,1),this.questionCount--;break}}async publish(){let e={name:this.name,category:this.category,difficulty:this.difficulty,questions:this.questions,description:this.description};const t={quiz:JSON.stringify(e)};return oe(b.createQuiz,t,"POST")}static async startQuiz(e){return oe(b.playQuiz,e,"POST")}static async fetchQuestion(e){let t=await oe(b.fetchQuestion,"POST");return t.error?(e(),null):t}static async getQuizCategorys(){return oe(b.quizCategorys,"GET")}static async delete(e){return oe(b.deleteQuiz,{id:e},"POST")}static async fetchAnswers(e){return oe(b.fetchQuestion,e,"POST")}static async fetchResults(){return oe(b.fetchResults,"test","POST")}}let q=null;const x={progress:0,currentQuestion:null,answered:[],id:null,score:0,inProgress:!1},S=e=>{$(se.mainPanel).load("../dist/html/quiz_play.html",()=>{$("#playView").fadeIn("slow"),x.id=e.id,componentHandler.upgradeElements($(se.mainPanel).children()),q=new class{constructor(e,t){this.item=$(e),this.answers=[],this.quiz=t,i.DataSetDecorator(this,["[data-info]"]),this.init()}init(){let e=this.item.children(".answer");for(let t of e)this.answers.push(new h(t));this.answerComposite=new r(this.answers),this.creator.innerHTML=this.quiz.user,this.name.innerHTML=this.quiz.name;for(let e=0;e<this.quiz.questionCount;e++){var t=100/(this.quiz.questionCount-1)*e;$("#progressStage").append(`<div style="left: ${t}%" class="stage_box"></div>`)}this.updateProgress(0,0)}showResult(e){this.answerComposite.action("blink",e)}getAnswers(){let e=[];for(let t of this.answers)e.push(t.getValues());return e}getSelected(){for(let e of this.answers)if(e.selected)return e.id}fadeOutChoices(){this.answerComposite.action("fadeOut")}fadeInChoices(){this.answerComposite.action("fadeIn")}newQuestion(e){let t=0;for(this.question.innerHTML=e.questionText;t<e.answers.length;t++)this.answers[t].setNewAnswer(e.answers[t])}updateProgress(e){let t=100/(this.quiz.questionCount-1)*e;$("#progressStage")[0].MaterialProgress.setProgress(t),this.count.innerHTML=`${e+1} / ${this.quiz.questionCount}`}updateScore(e){this.score.innerHTML=e}}("#innerPlayView",e),i.EventListenerDecorator(q,"click",T),E()})},E=()=>{x.progress=0,x.currentQuestion=null,x.answered=[],x.score=0,x.inProgress=!0,x.results=[],_()},T=(e,t)=>{if(!x.inProgress)return void event.preventDefault();x.currentQuestion.id,t.getAnswers();z.fetchAnswers({answers:t.getSelected()}).then(e=>{x.inProgress=!1,t.showResult(e.id),x.currentQuestion.correct=e.id,x.currentQuestion.answered=t.getSelected(),e.id===x.currentQuestion.answered&&(x.score=x.score+5),x.answered.push(x.currentQuestion),setTimeout(()=>{_()},3e3)},e=>{ae("Fehler beim verbinden mit dem Server. Bitte erneut versuchen."),setTimeout(()=>{window.location("index.html")},2e3)})},_=async()=>{x.currentQuestion=await z.fetchQuestion(Q),x.currentQuestion&&(q.updateProgress(x.progress),q.updateScore(x.score),q.newQuestion(x.currentQuestion),x.inProgress=!0,x.progress++)},Q=()=>{x.inProgress=!1,$("#playView").animate({width:0,opacity:0},1e3,()=>{D()})},D=async()=>{q.renderResults,console.log("resultViewInit");try{await z.fetchResults().then(e=>{C(e)})}catch(e){console.log(`Something went wrong: ${e}`)}},C=e=>{$(se.mainPanel).load("../dist/html/quiz_result.html",()=>{$("#resultView").fadeIn("slow"),q=new class{constructor(e,t){this.item=$(e),this.answers=[],this.results=t,this.allCorrect=0,i.DataSetDecorator(this,["[data-info]"]),this.init()}init(){this.counter.innerHTML='Du hast  <span style="color: #ff0000">'+this.results.countCorrect+" von "+this.results.count+"</span> Fragen richtig beantwortet!";var e="";this.results.countCorrect===this.results.count?(e="pogchamp",this.allCorrect=1):e="lul",this.image.innerHTML=`<img style="width: 200px; height: 200px;" src="img/${e}.png">`;var t="";for(let e=0;e<this.results.count;e++)t+=this.renderDetailHTMLByQuestionID(e);$("#detailedAnswers")[0].innerHTML+=t;var n=document.getElementsByClassName("collapsible");for(let e=0;e<n.length;e++)n[e].addEventListener("click",function(){this.classList.toggle("active");var e=this.nextElementSibling;"flex"===e.style.display?e.style.display="none":e.style.display="flex"})}renderDetailHTMLByQuestionID(e){var t='\n            <div id="innerResultPlayView" class="content mdl-grid mdl-cell mdl-cell--12-col mdl-cell--12-col-phone mdl-cell--12-col-tablet">\n        ';for(let i=0;i<4;i++){var n="";1==this.results.questions[e].answers[i].correct&&(n="is-correct"),this.results.questions[e].givenAnswer!==this.results.questions[e].answers[i].id||this.results.questions[e].givenAnswerWasCorrect||(n="is-wrong"),t+=`<div data-action="answer" class="mdl-cell mdl-cell--8-col white-cell mdl-cell--12-col-phone mdl-cell--12-col-tablet box-shadow answer ${n}">\n                <a>${this.results.questions[e].answers[i].text}</a>          \n            </div>\n            `}return t+="</div> ",`\n            <div class="collapsible mdl-grid mdl-cell mdl-cell--10-col mdl-cell--12-col-phone mdl-cell--12-col-tablet mdl-shadow--6dp">\n                <img style="width: 20px; height: 20px;" src="img/${this.results.questions[e].givenAnswerWasCorrect?"correct":"wrong"}.png">&nbsp;&nbsp;Frage ${e+1}: ${this.results.questions[e].questionText}\n            </div>\n            ${t}\n            `}}("#resultView",e),componentHandler.upgradeElements($(se.mainPanel).children())})},O={fetchQuiz:"../srv/quiz_management/quiz_fetchQuiz.php"};class P{constructor(e){this.query=e}async getResults(){try{let e=await oe(O.fetchQuiz,this.query,"GET");this.results=e}catch(e){ae(`Server nicht erreichbar: ${e}`)}}}let L=null,k=[];const I=()=>{$(se.mainPanel).load("../dist/html/quiz_main.html",()=>{$("#main-panel").fadeIn("slow)"),L=new class{constructor(e,t){this.item=$(e),this.handler=t,i.DataSetDecorator(this,["[data-info]","[data-input]"]),i.EventListenerDecorator(this,"click",t),a.register("QuizInfoView",g),a.register("Chip",f),this.stageType={Easy:new s("#quiz-overview-Easy"),Medium:new s("#quiz-overview-Medium"),Hard:new s("#quiz-overview-Hard")},this.chipStage=new s("#filter-list-container")}get(){return this.item}getInput(){return this.item.children().serialize()}clearInput(){this.filter.forEach(e=>{e.input.parentElement.MaterialTextfield.change()})}renderChips(){a.setStage(this.chipStage),a.removeAll(),this.filter.forEach(e=>{if(e.input.value){let t=a.create("Chip");t.init(e),a.add(t)}})}renderQueryResults(e){this.emptyResults(),e.forEach(e=>{let t=a.create("QuizInfoView");t.init(e,!1,this.handler),a.setStage(this.stageType[e.difficulty]),a.add(t)})}emptyResults(){for(let e in this.stageType)this.stageType[e].clear()}}("#searchView",j),componentHandler.upgradeElements($(se.mainPanel).children());let e=new P(L.getInput());M(e)})},j=async(e,t)=>{if("play"===e)return void z.startQuiz({id:t.quiz.id}).then(e=>{e.success?$("#main-panel").fadeOut("slow",()=>{S(t.quiz)}):ae("Konnte Quiz nicht laden. Bitte erneut versuchen.")});const n=L.getInput();let i=new P(n);L.renderChips(),L.clearInput(),M(i)},M=async e=>{try{$("#overlay").fadeIn("fast"),await e.getResults(),setTimeout(()=>{$("#overlay").fadeOut("fast"),k=e.results,L.renderQueryResults(e.results)},100)}catch(e){console.log(`Something went wrong: ${e}`)}};n(5);let A=null,H=null,V=null,R=null;const N=(e,t)=>{if("addQuestion"!==e)return;if(!A.validateInput())return;let n=A.getAnswers();for(let e of n)if(e.correct){let e=new w(A.getQuestionText(),n);return R.addQuestion(e),V.showQuestion(e),H.setVisual(R.questionCount),A.clear(),void ae("Frage hinzugef√ºgt",1500)}A.showErrors({for:"answer",message:"Please select at least one correct answer."})},B=(e,t)=>{if("delete"==e&&(console.log("Reset"),F()),"add"!==e)return;if(!H.validateInput())return;if(R.questionCount<3)return;let n=H.getQuizData();for(let e in n)R[e]=n[e];$("#overlay").fadeIn("fast"),R.publish().then(e=>{setTimeout(()=>{e.success?(F(),$("#overlay").fadeOut("fast"),ae("Quiz wurde hinzugef√ºgt!",2500)):ae("Fehler, bitte erneut versuchen.",2500)},1e3)})},F=()=>{R=new z,H.reset(R),V.removeAll(),A.clear()},U=(e,t)=>{R.removeQuestion(t.question),t.get().animate({backgroundColor:"#aa0000",color:"#fff",opacity:0,width:"0px"},700,()=>V.removeQuestionView(t)),H.setVisual(R.questionCount)};let G=null;const J=(e,t)=>{if("delete"!==e)return!1;z.delete(t.quiz.id).then(e=>{e.success&&(t.get().animate({width:"0px",opacity:"0"},1500,()=>G.removeItem(t)),ae("Quiz erfolgreich gel√∂scht",1500))},e=>{ae("Server nicht erreichbar. Bitte pr√ºfen Sie ihre Verbindung.",3e3)})},Z=async e=>{try{await e.getResults(),G.renderQueryResults(e.results)}catch(e){console.log(`Something went wrong: ${e}`)}};class K{constructor(e,t){this.item=$(e),i.DataSetDecorator(this,["[data-info]","[data-input]"]),i.EventListenerDecorator(this,"click",t)}get(){return this.item}getData(){return this.item.children().serialize()}validateUserInput(){return y.validateText(this.text)&&y.validateSanitization(this.text)}showErrors(e){e.forEach(e=>{for(let t of this.text)e.for===t.error.dataset.error&&(t.error.innerHTML=e.message,t.error.parentElement.classList.add("is-invalid"))})}}const W={registration:"../srv/user_management/user_registration.php",login:"../srv/user_management/user_login.php",logout:"../srv/user_management/user_logout.php"};class X{static async checkLoginStatus(){return oe(W.login,{check:!0},"POST")}static async logout(){return oe(W.logout,"POST")}static async login(e){return oe(W.login,e,"POST")}static async register(e){return oe(W.registration,e,"POST")}}let Y=null,ee=null;const te=()=>{$(se.mainPanel).load("../dist/html/quiz_login.html",()=>{(Y=new K(se.login,ne)).get().fadeIn("slow"),componentHandler.upgradeElements($(se.mainPanel).children())})},ne=e=>{if("register"===e)return void $(Y.get()).fadeOut("fast",()=>{ie()});if(!Y.validateUserInput())return;let t=Y.getData();X.login(t,!0).then(e=>{e.error?Y.showErrors(e.error):e.success&&(ae("Login erfolgreich"),setTimeout(()=>{window.location="index.html"},1500))},e=>{ae(`${e}}`)})},ie=()=>{$(se.mainPanel).load("../dist/html/quiz_registration.html",()=>{(ee=new K(se.register,re)).get().fadeIn("slow"),componentHandler.upgradeElements($(se.mainPanel).children())})},re=e=>{if(!ee.validateUserInput())return;let t=ee.getData();X.register(t).then(e=>{e.error&&ee.showErrors(e.error),e.success&&(ae("Registrierung erfolgreich. Sie k√∂nnen sich nun einloggen."),setTimeout(()=>{te()},2e3))},e=>{console.log("Failure")})};n.d(t,"container",function(){return se}),n.d(t,"request",function(){return oe}),n.d(t,"showSnackbarMessage",function(){return ae}),window.onload=(()=>{de()});const se={mainPanel:"#quiz-panel",navigation:"#navigation-container",login:"#login-view",register:"#registration-view",creation:"#creation-view",quizBuiler:"#quiz-builder-view",questionBuilder:"#question-builder-view",questionListView:"#question-list-view"},oe=async(e,t,n)=>{return void 0===t?t="":"POST"!==t&&"GET"!==t||(n=t),await $.ajax({url:e,type:n,data:t})},ae=(e,t,n,i)=>{document.querySelector(".mdl-js-snackbar").MaterialSnackbar.showSnackbar({message:e,timeout:t,actionText:n,actionHandler:i})},le=new Map([["nav-login",[te,"Einloggen"]],["nav-creation",[()=>{$(se.mainPanel).load("../dist/html/quiz_creation.html",()=>{$("#creation-view").fadeIn("slow"),R=new z,H=new class{constructor(e,t){this.item=$(e),i.DataSetDecorator(this,["[data-info]","[data-input]"]),i.EventListenerDecorator(this,"click",t)}get(){return this.item}renderCategorys(e){this.categorys=e,e.forEach(e=>{$(this.category.input).append(`<option>${e.name}</option>`)})}validateInput(){return y.validateText(this.text)&&this._validateCategory()&&this._isValidDifficulty()}_isValidDifficulty(){let e=!1;return this.difficulty.input.value,e=!0}_validateCategory(){let e=!1;for(let t of this.categorys)if(this.category.input.value===t.name){e=!0;break}return e}getQuizData(){let e={};for(let t of this.text)e[t.name]=t.input.value;for(let t of this.categorys)if(this.category.input.value===t.name){e.category=t.id;break}return e.difficulty=this.difficulty.input.value,e}setVisual(e){e>=3&&(this.tooltip.innerHTML="Publish now! :)"),this.questionCount.innerHTML=e}reset(){this.setVisual(0);for(let e of this.text)e.input.parentElement.MaterialTextfield.change()}}(se.quizBuiler,B),A=new class{constructor(e,t){this.item=$(e),this.answers=[],i.DataSetDecorator(this,["[data-input]"]),i.EventListenerDecorator(this,"click",t),this.init()}get(){return this.item}init(){let e=this.item.children(".answer");for(let t of e)this.answers.push(new p(t));this.answerComposite=new r(this.answers)}validateInput(){let e=y.validateText(this.answer),t=y.validateText(this.question);return e&&t}getQuestionText(){return this.question.input.value}getAnswers(){let e=[];for(let t of this.answers)e.push(t.getValues());return e}showErrors(e){this.answerComposite.action("showError",e)}clear(){this.answerComposite.action("clear"),this.question.input.parentElement.MaterialTextfield.change()}}(se.questionBuilder,N),V=new class{constructor(e,t){this.item=$(e),this.handler=t,i.EventListenerDecorator(this,"click",t),a.register("QuestionView",m),this.questionStage=new s("#question-list-view")}get(){return this.item}showQuestion(e){a.setStage(this.questionStage);let t=a.create("QuestionView");t.init(e),a.add(t),i.EventListenerDecorator(t,"click",this.handler)}removeQuestionView(e){a.remove(e)}removeAll(){a.removeAll()}}(se.questionListView,U),z.getQuizCategorys().then(e=>{H.renderCategorys(e)}),H.setVisual(R.questionCount),componentHandler.upgradeElements($(se.creation).children())})},"Erstelle ein Quiz"]],["nav-main",[I,"Spiel ein Quiz"]],["nav-yourquiz",[()=>{$(se.mainPanel).load("../dist/html/quiz_yourquiz.html",()=>{G=new class{constructor(e,t){this.item=$(e),this.handler=t,this.quizStage=new s("#yourView")}get(){return this.item}removeItem(e){a.remove(e)}renderQueryResults(e){e.forEach(e=>{let t=a.create("QuizInfoView");t.init(e,!0,this.handler),a.setStage(this.quizStage),a.add(t)})}}("#yourView",J),componentHandler.upgradeElements($(se.mainPanel).children());let e=new P({current:"true"});Z(e)})},"Deine erstellten Quizze"]]]);let ce="nav-main";const ue=(e,t)=>{let n;if(n=le.get(e))return ce=e,n[0](),void $("#panel-titel").html(n[1]);"logout"===e&&X.logout().then(e=>{ae("Ausgeloggt",1e3),de()},e=>{ae("Ausgeloggt",1e3),de()})},de=()=>{$.ajaxSetup({global:!1,dataType:"json",cache:!1}),X.checkLoginStatus().then(e=>{$.get(`../dist/html/${e?"nav_login":"nav_logout"}.html`,e=>{let t={item:$(se.navigation).html(e)};i.EventListenerDecorator(t,"click",ue)},"html"),I()})}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){var n,i,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var l,c=[],u=!1,d=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&p())}function p(){if(!u){var e=a(h);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(e,i){var r=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,s=i.length,o=String(e).replace(r,function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}}),l=i[n];n<s;l=i[++n])g(l)||!b(l)?o+=" "+l:o+=" "+a(l);return o},t.deprecate=function(n,r){if(v(e.process))return function(){return t.deprecate(n,r).apply(this,arguments)};if(!0===i.noDeprecation)return n;var s=!1;return function(){if(!s){if(i.throwDeprecation)throw new Error(r);i.traceDeprecation?console.trace(r):console.error(r),s=!0}return n.apply(this,arguments)}};var s,o={};function a(e,n){var i={seen:[],stylize:c};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),f(n)?i.showHidden=n:n&&t._extend(i,n),v(i.showHidden)&&(i.showHidden=!1),v(i.depth)&&(i.depth=2),v(i.colors)&&(i.colors=!1),v(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=l),u(i,e,i.depth)}function l(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function c(e,t){return e}function u(e,n,i){if(e.customInspect&&n&&x(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,e);return y(r)||(r=u(e,r,i)),r}var s=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(m(t))return e.stylize(""+t,"number");if(f(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,n);if(s)return s;var o=Object.keys(n),a=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),q(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return d(n);if(0===o.length){if(x(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(w(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(z(n))return e.stylize(Date.prototype.toString.call(n),"date");if(q(n))return d(n)}var c,b="",$=!1,S=["{","}"];(p(n)&&($=!0,S=["[","]"]),x(n))&&(b=" [Function"+(n.name?": "+n.name:"")+"]");return w(n)&&(b=" "+RegExp.prototype.toString.call(n)),z(n)&&(b=" "+Date.prototype.toUTCString.call(n)),q(n)&&(b=" "+d(n)),0!==o.length||$&&0!=n.length?i<0?w(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=$?function(e,t,n,i,r){for(var s=[],o=0,a=t.length;o<a;++o)T(t,String(o))?s.push(h(e,t,n,i,String(o),!0)):s.push("");return r.forEach(function(r){r.match(/^\d+$/)||s.push(h(e,t,n,i,r,!0))}),s}(e,n,i,a,o):o.map(function(t){return h(e,n,i,a,t,$)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,b,S)):S[0]+b+S[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,i,r,s){var o,a,l;if((l=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),T(i,r)||(o="["+r+"]"),a||(e.seen.indexOf(l.value)<0?(a=g(n)?u(e,l.value,null):u(e,l.value,n-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),v(o)){if(s&&r.match(/^\d+$/))return a;(o=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function p(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function g(e){return null===e}function m(e){return"number"==typeof e}function y(e){return"string"==typeof e}function v(e){return void 0===e}function w(e){return b(e)&&"[object RegExp]"===$(e)}function b(e){return"object"==typeof e&&null!==e}function z(e){return b(e)&&"[object Date]"===$(e)}function q(e){return b(e)&&("[object Error]"===$(e)||e instanceof Error)}function x(e){return"function"==typeof e}function $(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(v(s)&&(s=i.env.NODE_DEBUG||""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(s)){var n=i.pid;o[e]=function(){var i=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,i)}}else o[e]=function(){};return o[e]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=f,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=y,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=w,t.isObject=b,t.isDate=z,t.isError=q,t.isFunction=x,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(2);var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;console.log("%s - %s",(e=new Date,n=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":"),[e.getDate(),E[e.getMonth()],n].join(" ")),t.format.apply(t,arguments))},t.inherits=n(1),t._extend=function(e,t){if(!t||!b(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e}}).call(this,n(4),n(3))},function(e,t,n){e.exports=n(0)}]);